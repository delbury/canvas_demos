## 题目

- ### Buffer对象
  > 设计性能的相关部分采用了C++实现，而非性能部分采用了JavaScript实现，Buffer对象可以用来操作二进制数据流 

  > Buffer对象的内存分配不是在V8的堆内存中的，而是由Node的C++层面实现的内存申请的 



- ### http与https的区别
  [讲一下 https 和 http 的区别](http://blog.alanwu.website/2020/03/08/https/)
  ![https过程](./reference/https.webp)
  > 首先客户端发起请求到服务端，服务端处理后发送一个公钥给客户端 

  > 客户端进行验证公钥，看公钥是否有效和是否过期 

  > 客户端验证通过会产生随机值key，然后用公钥进行加密回传给服务端 

  > 服务端用私钥解密后获得客户端的随机值key 

  > 利用随机值key加密数据后传输给客户端 

  > 客户端利用key值进行解密数据 

  > 客户端获取真正的数据 

  
  客户端先请求服务端公钥、通过证书验证公钥，接着使用非对称加密交换客户端生成的随机key，再使用随机key对称加密要传输的数据。

- ### CDN的优化原理
  [CDN是什么](https://www.zhihu.com/question/36514327?rf=37353035)
  > CDN的全称是(Content Delivery Network)，即内容分发网络。

  > 其目的是通过在现有的Internet中增加一层新的CACHE(缓存)层，将网站的内容发布到最接近用户的网络“边缘”的节点，使用户可以就近取得所需的内容，提高用户访问网站的响应速度。

- ### HTTP 2.0有什么新特性
  [HTTP2.0新特性](http://blog.alanwu.website/2020/03/03/http2/)
  > 二进制分帧：<br>
  在应用层和传输层（TLS之上）之间增加一个二进制分帧层，HTTP1.x 的首部信息被封装到 Headers 帧，请求 Body 则封装到 Data 帧。同域名下所有通信都在单个连接上完成，可以承载任意数量的双向数据流，每个数据流都以消息（由一个或多个帧组成，可乱序）的形式发送。 

  > 多路复用：<br>
  HTTP/1.0的模式是，建立连接请求数据完毕之后就立即关闭连接；后来采用了`connection: keep-alive` (HTTP/1.1默认)保活模式使得可以复用连接不断开，可以利用这次连接继续请求数据。（同一个连接内）但是始终会有一个缺点，就是你必须等待服务器返回上一次的请求数据你才可以进行下一次的请求。<br>
  HTTP 2.0就提出了多路复用的技术，就是你可以连续发送多个请求，可以不用收到回复就继续发送请求。优点：并行交错发送请求，请求之间互不影响；TCP连接一旦建立可以并行发送请求；消除不必要延迟，减少页面加载时间；可以最大程度利用HTTP 1.x

  > 首部压缩：<br>
  HTTP 1.x首部是没有压缩的，Gzip只会对请求体进行压缩 <br>
  HTTP 2.0 提供了首部压缩方案。现在SPDY和HTTP 2.0都支持首部压缩，前者使用的是DEFLATE算法，而后者使用专门设计的HPACK算法。首部表在HTTP 2.0 的连接存续期内始终是有效的，客户端和服务端共同更新，头部帧可以最大程度的复用

  > 流量控制：<br>
  HTTP 2.0 “流” 的流量控制最终的目标是在不改变协议的情况之下允许采用多种流量控制算法。

  > 请求优先级： <br>
  客户端可以通过在打开流的HEADERS帧中包含优先次序信息来为一个新流指定优先级。在其它任意时间，可以使用PRIORITY帧来改变流的优先级。

  > 服务器推送：<br>
  HTTP 2.0 可以使服务器主动返回资源给客户端用户。
  服务端接收到客户端主请求，能够“预测”主请求的依赖资源，在响应主请求的同时，主动并发推送依赖资源至客户端。

- ### 常见HTTP首部
  - 通用首部
  - 请求首部
  - 响应首部

- ### 服务端推送
  - WebSocket
  - Server-Sent Events (EventSource)

- ### 跨域
  [一次看懂如何解决跨域](http://blog.alanwu.website/2020/03/06/crossOrigin/)
  > 浏览器是可以发起请求，但是结果被浏览器拦截，此谓跨域。

  - 解决方法：
    1. JSONP：利用 script 可跨域请求资源的特性，只能 GET，安全问题，无法判断是否成功； 
    2. CORS：`Access-Control-* | Origin` 相关请求头，简单请求、复杂请求； 
    3. Nginx代理：服务器代理； 
    4. document.domain：只能用于二级域名相同的情况； 
    5. window.name：页面如果设置了window.name，那么在不关闭页面的情况下，即使进行了页面跳转location.href=…，这个window.name还是会保留； 
    6. postMessage+iframe：这种方式通常用于获取嵌入页面中的第三方页面数据。一个页面发送消息，另一个页面判断来源并接收消息

